"use strict";(self.webpackChunkplayradar=self.webpackChunkplayradar||[]).push([[3122],{"./app/components/features/GameActions.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>GameActions});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Button=__webpack_require__("./app/components/ui/Button.tsx"),Tooltip=__webpack_require__("./node_modules/@mui/material/Tooltip/Tooltip.js"),CheckIcon=__webpack_require__("./app/components/ui/CheckIcon.tsx"),PlusIcon=__webpack_require__("./app/components/ui/PlusIcon.tsx"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js"),firebase=__webpack_require__("./app/lib/firebase.js"),dist_index_esm=__webpack_require__("./node_modules/react-firebase-hooks/auth/dist/index.esm.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const PlayLaterButton=({gameId,user,activeTooltip,setActiveTooltip,className})=>{const{userPlayLater,handlePlayLaterToggle}=function usePlayLater(){const[userPlayLater,setUserPlayLater]=(0,react.useState)([]),[user]=(0,dist_index_esm.hD)(firebase.j);return(0,react.useEffect)((()=>{(async()=>{if(user)try{const userDoc=await(0,index_esm.x7)((0,index_esm.H9)(firebase.db,"users",user.uid));if(userDoc.exists()){const userData=userDoc.data();setUserPlayLater(userData.play_later||[])}}catch(error){console.error("Error fetching user play_later:",error)}})()}),[user]),{userPlayLater,handlePlayLaterToggle:async gameId=>{if(user)try{const userRef=(0,index_esm.H9)(firebase.db,"users",user.uid),userDoc=await(0,index_esm.x7)(userRef);if(!userDoc.exists())return;const currentPlayLater=userDoc.data().play_later||[];currentPlayLater.includes(gameId)?(await(0,index_esm.mZ)(userRef,{play_later:(0,index_esm.C3)(gameId)}),setUserPlayLater(currentPlayLater.filter((id=>id!==gameId)))):(await(0,index_esm.mZ)(userRef,{play_later:(0,index_esm.hq)(gameId)}),setUserPlayLater([...currentPlayLater,gameId]))}catch(error){console.error("Error updating play_later:",error)}}}}();return(0,jsx_runtime.jsx)(Tooltip.A,{title:"Log in to add game to play later",placement:"bottom",open:!user&&"play-later"===(null==activeTooltip?void 0:activeTooltip.type)&&(null==activeTooltip?void 0:activeTooltip.gameId)===gameId,onClose:()=>setActiveTooltip(null),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,componentsProps:{tooltip:{className:"bg-gray-200 text-gray-900 dark:bg-gray-800 dark:text-white px-3 py-2 rounded-lg text-sm"}},children:(0,jsx_runtime.jsx)(Button.$,{"data-action":"play-later",variant:"ghost",onClick:()=>user&&handlePlayLaterToggle(gameId.toString()),className:`p-0 mr-4 transition-all duration-300 transform ${userPlayLater.includes(gameId.toString())?"text-primary scale-110":"hover:[&_svg]:fill-foreground/30"} ${className}`,children:userPlayLater.includes(gameId.toString())?(0,jsx_runtime.jsx)(CheckIcon.A,{}):(0,jsx_runtime.jsx)(PlusIcon.A,{})})})};PlayLaterButton.__docgenInfo={description:"",methods:[],displayName:"PlayLaterButton",props:{gameId:{required:!0,tsType:{name:"number"},description:""},user:{required:!0,tsType:{name:"boolean"},description:""},activeTooltip:{required:!0,tsType:{name:"union",raw:"{ type: string; gameId: number } | null",elements:[{name:"signature",type:"object",raw:"{ type: string; gameId: number }",signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"gameId",value:{name:"number",required:!0}}]}},{name:"null"}]},description:""},setActiveTooltip:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<\r\n  React.SetStateAction<{ type: string; gameId: number } | null>\r\n>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<{ type: string; gameId: number } | null>",elements:[{name:"union",raw:"{ type: string; gameId: number } | null",elements:[{name:"signature",type:"object",raw:"{ type: string; gameId: number }",signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"gameId",value:{name:"number",required:!0}}]}},{name:"null"}]}]}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var thumbs_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/thumbs-down.js"),thumbs_up=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/thumbs-up.js"),useGamePreferences_console=__webpack_require__("./node_modules/console-browserify/index.js");const LikeDislikeButtons=({user,activeTooltip,setActiveTooltip,gameId,ratingsCount})=>{const{userLikes,userDislikes,handleLikeToggle,handleDislikeToggle}=function useGamePreferences(){const[userLikes,setUserLikes]=(0,react.useState)([]),[userDislikes,setUserDislikes]=(0,react.useState)([]),[user]=(0,dist_index_esm.hD)(firebase.j);return(0,react.useEffect)((()=>{(async()=>{if(user)try{const userDoc=await(0,index_esm.x7)((0,index_esm.H9)(firebase.db,"users",user.uid));if(userDoc.exists()){const userData=userDoc.data();setUserLikes(userData.liked||[]),setUserDislikes(userData.disliked||[])}}catch(error){useGamePreferences_console.error("Error fetching user preferences:",error)}})()}),[user]),{userLikes,userDislikes,handleLikeToggle:async gameId=>{if(user)try{const userRef=(0,index_esm.H9)(firebase.db,"users",user.uid);if(userLikes.includes(gameId))await(0,index_esm.mZ)(userRef,{liked:(0,index_esm.C3)(gameId)}),setUserLikes(userLikes.filter((id=>id!==gameId)));else{const updates={liked:(0,index_esm.hq)(gameId)};userDislikes.includes(gameId)&&(updates.disliked=(0,index_esm.C3)(gameId),setUserDislikes(userDislikes.filter((id=>id!==gameId)))),await(0,index_esm.mZ)(userRef,updates),setUserLikes([...userLikes,gameId])}}catch(error){useGamePreferences_console.error("Error updating likes:",error)}},handleDislikeToggle:async gameId=>{if(user)try{const userRef=(0,index_esm.H9)(firebase.db,"users",user.uid);if(userDislikes.includes(gameId))await(0,index_esm.mZ)(userRef,{disliked:(0,index_esm.C3)(gameId)}),setUserDislikes(userDislikes.filter((id=>id!==gameId)));else{const updates={disliked:(0,index_esm.hq)(gameId)};userLikes.includes(gameId)&&(updates.liked=(0,index_esm.C3)(gameId),setUserLikes(userLikes.filter((id=>id!==gameId)))),await(0,index_esm.mZ)(userRef,updates),setUserDislikes([...userDislikes,gameId])}}catch(error){useGamePreferences_console.error("Error updating dislikes:",error)}}}}();return(0,jsx_runtime.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,jsx_runtime.jsx)(Tooltip.A,{title:"Log in to add games you dislike",placement:"bottom",open:!user&&"dislike"===(null==activeTooltip?void 0:activeTooltip.type)&&(null==activeTooltip?void 0:activeTooltip.gameId)===gameId,onClose:()=>setActiveTooltip(null),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,slotProps:{tooltip:{className:"bg-gray-200 text-gray-900 dark:bg-gray-800 dark:text-white px-3 py-2 rounded-lg text-sm"}},children:(0,jsx_runtime.jsx)(Button.$,{"data-action":"dislike",variant:"ghost",onClick:()=>user&&handleDislikeToggle(gameId.toString()),className:"p-0 m-1 hover:bg-transparent transition-all duration-300 transform "+(userDislikes.includes(gameId.toString())?"text-primary scale-110":"hover:[&_svg]:fill-foreground/30"),children:(0,jsx_runtime.jsx)(thumbs_down.A,{className:"h-5 w-5 transition-transform duration-300 "+(userDislikes.includes(gameId.toString())?"fill-current":"")})})}),(0,jsx_runtime.jsx)(Tooltip.A,{title:"Log in to add games you like",placement:"bottom",open:!user&&"like"===(null==activeTooltip?void 0:activeTooltip.type)&&(null==activeTooltip?void 0:activeTooltip.gameId)===gameId,onClose:()=>setActiveTooltip(null),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,componentsProps:{tooltip:{className:"bg-gray-200 text-gray-900 dark:bg-gray-800 dark:text-white px-3 py-2 rounded-lg text-sm"}},children:(0,jsx_runtime.jsx)(Button.$,{"data-action":"like",variant:"ghost",onClick:()=>user&&handleLikeToggle(gameId.toString()),className:"p-0 m-1 hover:bg-transparent transition-all duration-300 transform "+(userLikes.includes(gameId.toString())?"text-primary scale-110":"hover:[&_svg]:fill-foreground/30"),children:(0,jsx_runtime.jsx)(thumbs_up.A,{className:"h-5 w-5 transition-transform duration-300 "+(userLikes.includes(gameId.toString())?"fill-current":"")})})}),(0,jsx_runtime.jsx)("span",{className:"text-stext-muted-foreground",children:ratingsCount})]})};LikeDislikeButtons.__docgenInfo={description:"",methods:[],displayName:"LikeDislikeButtons",props:{user:{required:!0,tsType:{name:"boolean"},description:""},activeTooltip:{required:!0,tsType:{name:"union",raw:"{ type: string; gameId: number } | null",elements:[{name:"signature",type:"object",raw:"{ type: string; gameId: number }",signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"gameId",value:{name:"number",required:!0}}]}},{name:"null"}]},description:""},setActiveTooltip:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<\r\n  React.SetStateAction<{ type: string; gameId: number } | null>\r\n>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<{ type: string; gameId: number } | null>",elements:[{name:"union",raw:"{ type: string; gameId: number } | null",elements:[{name:"signature",type:"object",raw:"{ type: string; gameId: number }",signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"gameId",value:{name:"number",required:!0}}]}},{name:"null"}]}]}]},description:""},gameId:{required:!0,tsType:{name:"number"},description:""},ratingsCount:{required:!0,tsType:{name:"number"},description:""}}};const GameActions=({gameId,user,activeTooltip,setActiveTooltip,className,ratingsCount})=>(0,jsx_runtime.jsxs)("div",{className:`flex justify-between items-center ${className}`,onClick:e=>{const button=e.target.closest("[data-action]");if(!button)return;const action=button.getAttribute("data-action");user||setActiveTooltip({type:action||"",gameId})},children:[(0,jsx_runtime.jsx)(PlayLaterButton,{gameId,user,activeTooltip,setActiveTooltip}),(0,jsx_runtime.jsx)(LikeDislikeButtons,{user,activeTooltip,setActiveTooltip,gameId,ratingsCount})]});GameActions.__docgenInfo={description:"",methods:[],displayName:"GameActions",props:{gameId:{required:!0,tsType:{name:"number"},description:""},user:{required:!0,tsType:{name:"boolean"},description:""},activeTooltip:{required:!0,tsType:{name:"union",raw:"{ type: string; gameId: number } | null",elements:[{name:"signature",type:"object",raw:"{ type: string; gameId: number }",signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"gameId",value:{name:"number",required:!0}}]}},{name:"null"}]},description:""},setActiveTooltip:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<\r\n  React.SetStateAction<{ type: string; gameId: number } | null>\r\n>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<{ type: string; gameId: number } | null>",elements:[{name:"union",raw:"{ type: string; gameId: number } | null",elements:[{name:"signature",type:"object",raw:"{ type: string; gameId: number }",signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"gameId",value:{name:"number",required:!0}}]}},{name:"null"}]}]}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},ratingsCount:{required:!0,tsType:{name:"number"},description:""}}}},"./app/components/ui/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/lib/utils.ts");const buttonVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Button=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,variant,size,asChild=!1,...props},ref)=>{const Comp=asChild?_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__.DX:"button";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(buttonVariants({variant,size,className})),ref,...props})}));Button.displayName="Button",Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["VariantProps"]}},"./app/components/ui/CheckIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const CheckIcon=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform rotate-0 lucide lucide-check duration-600",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M20 6 9 17l-5-5"})}),__WEBPACK_DEFAULT_EXPORT__=CheckIcon;CheckIcon.__docgenInfo={description:"",methods:[],displayName:"CheckIcon"}},"./app/components/ui/PlusIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");const PlusIcon=({className=""})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",className:`size-6 rotate-90 transition-transform duration-600 ${className}`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M5 12h14"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M12 5v14"})]}),__WEBPACK_DEFAULT_EXPORT__=PlusIcon;PlusIcon.__docgenInfo={description:"",methods:[],displayName:"PlusIcon",props:{className:{defaultValue:{value:'""',computed:!1},required:!1}}}},"./app/lib/firebase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{db:()=>db,j:()=>auth});var firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/firebase/app/dist/esm/index.esm.js"),firebase_firestore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js"),firebase_auth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/firebase/auth/dist/esm/index.esm.js");const app=(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.Wp)({apiKey:"AIzaSyChFGIJkYWhNmhPGU24ItgLPZdcC9s-NP8",authDomain:"playradar-a90bf.firebaseapp.com",projectId:"playradar-a90bf",storageBucket:"playradar-a90bf.firebasestorage.app",messagingSenderId:"305780706564",appId:"1:305780706564:web:a4534ba3744c5bfb7a1451"}),db=(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.aU)(app),auth=(0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.xI)(app)},"./app/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}}}]);